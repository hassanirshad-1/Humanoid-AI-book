"use strict";(globalThis.webpackChunkfrontend=globalThis.webpackChunkfrontend||[]).push([[847],{723:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/unitree_g1_diagram-11ea2b9390957d4cebf4f5c38325e428.png"},6517:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>c,frontMatter:()=>s,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"chapter-01-intro/1.3-simulation-setup","title":"Lesson 1.3: Entering \\"The Matrix\\"","description":"This is the most important lesson in the entire book. By the end, you\'ll have a working robotics simulation environment on your own computer. Once this works, you can run every example in the book.","source":"@site/docs/chapter-01-intro/1.3-simulation-setup.mdx","sourceDirName":"chapter-01-intro","slug":"/chapter-01-intro/1.3-simulation-setup","permalink":"/Humanoid-AI-book/chapter-01-intro/1.3-simulation-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/hassanirshad-1/Humanoid-AI-book/tree/main/docs/chapter-01-intro/1.3-simulation-setup.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Lesson 1.2: The Body of a Physical AI","permalink":"/Humanoid-AI-book/chapter-01-intro/1.2-hardware-anatomy"},"next":{"title":"Lesson 1.4: Your First Policy","permalink":"/Humanoid-AI-book/chapter-01-intro/1.4-first-policy"}}');var o=i(4848),t=i(8453);const s={},l='Lesson 1.3: Entering "The Matrix"',a={},d=[{value:"The Concrete Hook: Your First Simulation",id:"the-concrete-hook-your-first-simulation",level:2},{value:"The Intuition: What Is a Physics Simulator?",id:"the-intuition-what-is-a-physics-simulator",level:2},{value:"1. Safety",id:"1-safety",level:3},{value:"2. Speed",id:"2-speed",level:3},{value:"Why MuJoCo?",id:"why-mujoco",level:3},{value:"The Analogy: A Digital Crash Test Facility",id:"the-analogy-a-digital-crash-test-facility",level:2},{value:"The Code: Setting Up Your Environment",id:"the-code-setting-up-your-environment",level:2},{value:"Step 1: Create a Virtual Environment",id:"step-1-create-a-virtual-environment",level:3},{value:"Step 2: Install Dependencies",id:"step-2-install-dependencies",level:3},{value:"Step 3: Get the Robot Model",id:"step-3-get-the-robot-model",level:3},{value:"Step 4: Run Your First Simulation",id:"step-4-run-your-first-simulation",level:3},{value:"Understanding the Code",id:"understanding-the-code",level:2},{value:"Loading the Model",id:"loading-the-model",level:3},{value:"The Simulation Loop",id:"the-simulation-loop",level:3},{value:"Timing Control",id:"timing-control",level:3},{value:"Troubleshooting Guide",id:"troubleshooting-guide",level:2},{value:"Problem: &quot;ModuleNotFoundError: No module named &#39;mujoco&#39;&quot;",id:"problem-modulenotfounderror-no-module-named-mujoco",level:3},{value:"Problem: &quot;Error loading model: File not found&quot;",id:"problem-error-loading-model-file-not-found",level:3},{value:"Problem: Viewer window doesn&#39;t open (Linux)",id:"problem-viewer-window-doesnt-open-linux",level:3},{value:"Problem: Robot falls through the floor",id:"problem-robot-falls-through-the-floor",level:3},{value:"Problem: Viewer is too slow",id:"problem-viewer-is-too-slow",level:3},{value:"Knowledge Check \u2713",id:"knowledge-check-",level:2},{value:"Try This: Explore the Viewer",id:"try-this-explore-the-viewer",level:2},{value:"The Sim-to-Real Gap: A Warning",id:"the-sim-to-real-gap-a-warning",level:2},{value:"Summary",id:"summary",level:2},{value:"What&#39;s Next?",id:"whats-next",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"lesson-13-entering-the-matrix",children:'Lesson 1.3: Entering "The Matrix"'})}),"\n",(0,o.jsx)(n.p,{children:"This is the most important lesson in the entire book. By the end, you'll have a working robotics simulation environment on your own computer. Once this works, you can run every example in the book."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"the-concrete-hook-your-first-simulation",children:"The Concrete Hook: Your First Simulation"}),"\n",(0,o.jsx)(n.p,{children:"It's time to bring the robot to life. In this lesson, you will:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Set up a Python environment with the necessary packages"}),"\n",(0,o.jsx)(n.li,{children:"Install MuJoCo\u2014the industry-standard physics simulator"}),"\n",(0,o.jsx)(n.li,{children:"Run a script that loads the Unitree G1 model"}),"\n",(0,o.jsx)(n.li,{children:"See your robot standing in a virtual world"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"MuJoCo Viewer with G1 Robot",src:i(723).A+"",width:"1024",height:"1024"})}),"\n",(0,o.jsx)(n.p,{children:'This might seem like "just setup," but don\'t underestimate its importance. Professional robotics researchers spend significant time ensuring their simulation environment is correct. A broken setup means everything that follows will fail.'}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"the-intuition-what-is-a-physics-simulator",children:"The Intuition: What Is a Physics Simulator?"}),"\n",(0,o.jsx)(n.p,{children:"A physics simulator is like a video game engine, but optimized for scientific accuracy rather than entertainment. It computes forces, collisions, gravity, and friction according to real physics equations."}),"\n",(0,o.jsx)(n.p,{children:"We use simulators for robot learning because of two key advantages:"}),"\n",(0,o.jsx)(n.h3,{id:"1-safety",children:"1. Safety"}),"\n",(0,o.jsx)(n.p,{children:"It's much safer to crash a simulated robot than a real one. You can:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Have the robot fall 10,000 times without any damage"}),"\n",(0,o.jsx)(n.li,{children:"Try dangerous maneuvers without risk to humans or property"}),"\n",(0,o.jsx)(n.li,{children:"Explore extreme edge cases that would be irresponsible to test in reality"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"2-speed",children:"2. Speed"}),"\n",(0,o.jsxs)(n.p,{children:["Modern simulators can run ",(0,o.jsx)(n.strong,{children:"faster than real-time"}),". On a good GPU, you can simulate hours of robot experience in seconds. This is essential for reinforcement learning, where robots may need millions of trials to learn."]}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{}),(0,o.jsx)(n.th,{children:"Real World"}),(0,o.jsx)(n.th,{children:"Simulation"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"1 hour of experience"}),(0,o.jsx)(n.td,{children:"1 hour"}),(0,o.jsx)(n.td,{children:"~1 second"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Cost of failure"}),(0,o.jsx)(n.td,{children:"$$$ (repairs)"}),(0,o.jsx)(n.td,{children:"$0"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Reset time"}),(0,o.jsx)(n.td,{children:"Minutes"}),(0,o.jsx)(n.td,{children:"Milliseconds"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Parallelization"}),(0,o.jsx)(n.td,{children:"1 robot"}),(0,o.jsx)(n.td,{children:"1000+ environments"})]})]})]}),"\n",(0,o.jsx)(n.h3,{id:"why-mujoco",children:"Why MuJoCo?"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"MuJoCo"})," stands for ",(0,o.jsx)(n.strong,{children:"Mu"}),"lti-",(0,o.jsx)(n.strong,{children:"Jo"}),"int dynamics with ",(0,o.jsx)(n.strong,{children:"Co"}),"ntact. It was originally developed by Emo Todorov at the University of Washington, later acquired by Google DeepMind, and is now open-source."]}),"\n",(0,o.jsx)(n.p,{children:"MuJoCo is the industry standard for robotics research because:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Fast"}),": Highly optimized C code"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Accurate"}),": Excellent contact physics for walking robots"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Well-documented"}),": Extensive documentation and examples"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Free"}),": Open-source since 2022"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Other popular options include Isaac Sim (NVIDIA), PyBullet, and Drake, but MuJoCo is our choice for this book."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"the-analogy-a-digital-crash-test-facility",children:"The Analogy: A Digital Crash Test Facility"}),"\n",(0,o.jsx)(n.p,{children:"Imagine you're designing a new car. You wouldn't build a full-scale prototype and crash it every time you want to test a safety feature\u2014that would cost millions of dollars and take months."}),"\n",(0,o.jsx)(n.p,{children:"Instead, you use a computer simulation. You model the physics of the crash, run thousands of variations, and only build a physical prototype once you're confident in the design."}),"\n",(0,o.jsx)(n.p,{children:"Physics simulators are exactly this, but for robots. They're a digital playground where we can:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Break things without consequence"}),"\n",(0,o.jsx)(n.li,{children:"Test ideas rapidly"}),"\n",(0,o.jsx)(n.li,{children:"Train AI systems with virtually unlimited data"}),"\n",(0,o.jsx)(n.li,{children:"Iterate and improve before touching real hardware"}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"the-code-setting-up-your-environment",children:"The Code: Setting Up Your Environment"}),"\n",(0,o.jsx)(n.p,{children:"Let's get your environment ready. We'll use Python's virtual environment to keep dependencies clean."}),"\n",(0,o.jsx)(n.h3,{id:"step-1-create-a-virtual-environment",children:"Step 1: Create a Virtual Environment"}),"\n",(0,o.jsx)(n.p,{children:"Open your terminal and navigate to your project folder:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Navigate to your project directory\r\ncd your_project_folder\r\n\r\n# Create a virtual environment\r\npython -m venv .venv\r\n\r\n# Activate it\r\n# On macOS/Linux:\r\nsource .venv/bin/activate\r\n\r\n# On Windows (PowerShell):\r\n.\\.venv\\Scripts\\Activate.ps1\r\n\r\n# On Windows (Command Prompt):\r\n.\\.venv\\Scripts\\activate.bat\n"})}),"\n",(0,o.jsxs)(n.p,{children:["You should see ",(0,o.jsx)(n.code,{children:"(.venv)"})," at the beginning of your terminal prompt, indicating the environment is active."]}),"\n",(0,o.jsx)(n.h3,{id:"step-2-install-dependencies",children:"Step 2: Install Dependencies"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Install MuJoCo and supporting libraries\r\npip install mujoco numpy matplotlib\r\n\r\n# Verify installation\r\npython -c \"import mujoco; print(f'MuJoCo version: {mujoco.__version__}')\"\n"})}),"\n",(0,o.jsxs)(n.p,{children:["If you see a version number (like ",(0,o.jsx)(n.code,{children:"3.1.0"}),"), you're ready!"]}),"\n",(0,o.jsx)(n.h3,{id:"step-3-get-the-robot-model",children:"Step 3: Get the Robot Model"}),"\n",(0,o.jsx)(n.p,{children:"MuJoCo uses MJCF (MuJoCo Format) XML files to define robots. For this book, we use a simplified Unitree G1 model."}),"\n",(0,o.jsxs)(n.p,{children:["Create a file called ",(0,o.jsx)(n.code,{children:"unitree_g1.xml"})," in your working directory:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<mujoco model="unitree_g1_simple">\r\n  <option gravity="0 0 -9.81"/>\r\n  \r\n  <worldbody>\r\n    <light diffuse=".5 .5 .5" pos="0 0 3" dir="0 0 -1"/>\r\n    <geom type="plane" size="10 10 0.1" rgba="0.3 0.3 0.3 1"/>\r\n    \r\n    <body name="torso" pos="0 0 1">\r\n      <joint type="free"/>\r\n      <geom type="box" size="0.15 0.1 0.25" rgba="0.2 0.6 0.8 1"/>\r\n      \r\n      \x3c!-- Left leg --\x3e\r\n      <body name="left_thigh" pos="-0.1 0 -0.25">\r\n        <joint name="left_hip" type="hinge" axis="0 1 0" range="-1.57 1.57"/>\r\n        <geom type="capsule" fromto="0 0 0 0 0 -0.25" size="0.04" rgba="0.8 0.4 0.2 1"/>\r\n        \r\n        <body name="left_shin" pos="0 0 -0.25">\r\n          <joint name="left_knee" type="hinge" axis="0 1 0" range="-2.5 0"/>\r\n          <geom type="capsule" fromto="0 0 0 0 0 -0.25" size="0.035" rgba="0.8 0.4 0.2 1"/>\r\n        </body>\r\n      </body>\r\n      \r\n      \x3c!-- Right leg --\x3e\r\n      <body name="right_thigh" pos="0.1 0 -0.25">\r\n        <joint name="right_hip" type="hinge" axis="0 1 0" range="-1.57 1.57"/>\r\n        <geom type="capsule" fromto="0 0 0 0 0 -0.25" size="0.04" rgba="0.8 0.4 0.2 1"/>\r\n        \r\n        <body name="right_shin" pos="0 0 -0.25">\r\n          <joint name="right_knee" type="hinge" axis="0 1 0" range="-2.5 0"/>\r\n          <geom type="capsule" fromto="0 0 0 0 0 -0.25" size="0.035" rgba="0.8 0.4 0.2 1"/>\r\n        </body>\r\n      </body>\r\n    </body>\r\n  </worldbody>\r\n  \r\n  <actuator>\r\n    <motor name="left_hip_motor" joint="left_hip" gear="100"/>\r\n    <motor name="left_knee_motor" joint="left_knee" gear="100"/>\r\n    <motor name="right_hip_motor" joint="right_hip" gear="100"/>\r\n    <motor name="right_knee_motor" joint="right_knee" gear="100"/>\r\n  </actuator>\r\n</mujoco>\n'})}),"\n",(0,o.jsx)(n.p,{children:"This is a simplified 4-DOF biped. We'll use more complex models in later chapters."}),"\n",(0,o.jsx)(n.h3,{id:"step-4-run-your-first-simulation",children:"Step 4: Run Your First Simulation"}),"\n",(0,o.jsxs)(n.p,{children:["Create a file called ",(0,o.jsx)(n.code,{children:"hello_mujoco.py"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'"""\r\nLesson 1.3: Hello MuJoCo\r\nThis script loads a robot model and displays it in the MuJoCo viewer.\r\n"""\r\n\r\nimport mujoco\r\nimport mujoco.viewer\r\nimport time\r\nimport os\r\n\r\n\r\ndef main():\r\n    # Find the model file (same directory as this script)\r\n    script_dir = os.path.dirname(os.path.abspath(__file__))\r\n    model_path = os.path.join(script_dir, "unitree_g1.xml")\r\n    \r\n    # Load the model\r\n    print(f"Loading model from: {model_path}")\r\n    try:\r\n        model = mujoco.MjModel.from_xml_path(model_path)\r\n        print(f"\u2713 Model loaded successfully!")\r\n        print(f"  - Bodies: {model.nbody}")\r\n        print(f"  - Joints: {model.njnt}")\r\n        print(f"  - Actuators (motors): {model.nu}")\r\n    except Exception as e:\r\n        print(f"\u2717 Error loading model: {e}")\r\n        print(f"  Make sure \'unitree_g1.xml\' is in: {script_dir}")\r\n        return\r\n    \r\n    # Create simulation data\r\n    data = mujoco.MjData(model)\r\n    \r\n    # Launch the interactive viewer\r\n    print("\\nLaunching viewer...")\r\n    print("Controls:")\r\n    print("  - Left mouse: Rotate view")\r\n    print("  - Right mouse: Pan view")\r\n    print("  - Scroll: Zoom")\r\n    print("  - Space: Pause/Resume")\r\n    print("  - Backspace: Reset")\r\n    print("  - Escape: Quit")\r\n    \r\n    with mujoco.viewer.launch_passive(model, data) as viewer:\r\n        # Configure the camera for a nice initial view\r\n        viewer.cam.azimuth = 90      # Horizontal angle\r\n        viewer.cam.elevation = -15   # Vertical angle\r\n        viewer.cam.distance = 3.0    # Zoom level\r\n        viewer.cam.lookat[:] = [0.0, 0.0, 0.75]  # Point to look at\r\n        \r\n        # Main simulation loop\r\n        while viewer.is_running():\r\n            step_start = time.time()\r\n            \r\n            # Step the physics simulation\r\n            mujoco.mj_step(model, data)\r\n            \r\n            # Update the viewer\r\n            viewer.sync()\r\n            \r\n            # Sleep to maintain real-time\r\n            time_until_next_step = model.opt.timestep - (time.time() - step_start)\r\n            if time_until_next_step > 0:\r\n                time.sleep(time_until_next_step)\r\n    \r\n    print("Viewer closed. Goodbye!")\r\n\r\n\r\nif __name__ == "__main__":\r\n    main()\n'})}),"\n",(0,o.jsx)(n.p,{children:"Run the script:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"python hello_mujoco.py\n"})}),"\n",(0,o.jsx)(n.p,{children:"You should see a window open with your robot standing (and probably falling, since we're not controlling it yet). Use your mouse to rotate the view and explore!"}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"understanding-the-code",children:"Understanding the Code"}),"\n",(0,o.jsx)(n.p,{children:"Let's break down what's happening:"}),"\n",(0,o.jsx)(n.h3,{id:"loading-the-model",children:"Loading the Model"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"model = mujoco.MjModel.from_xml_path(model_path)\r\ndata = mujoco.MjData(model)\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"MjModel"})," contains everything that's constant: robot structure, physics parameters, joint limits"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"MjData"})," contains everything that changes: current positions, velocities, forces"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Think of ",(0,o.jsx)(n.code,{children:"model"})," as the blueprint and ",(0,o.jsx)(n.code,{children:"data"})," as the current state."]}),"\n",(0,o.jsx)(n.h3,{id:"the-simulation-loop",children:"The Simulation Loop"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"while viewer.is_running():\r\n    mujoco.mj_step(model, data)  # Advance physics by one timestep\r\n    viewer.sync()                 # Update the visual display\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Each call to ",(0,o.jsx)(n.code,{children:"mj_step()"})," advances the simulation by one timestep (typically 0.002 seconds or 500 Hz). This means the physics equations are computed, forces are applied, and the robot's state is updated."]}),"\n",(0,o.jsx)(n.h3,{id:"timing-control",children:"Timing Control"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"time_until_next_step = model.opt.timestep - (time.time() - step_start)\r\nif time_until_next_step > 0:\r\n    time.sleep(time_until_next_step)\n"})}),"\n",(0,o.jsx)(n.p,{children:"This ensures the simulation runs in real-time. Without this, it would run as fast as your CPU allows, making it hard to observe."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"troubleshooting-guide",children:"Troubleshooting Guide"}),"\n",(0,o.jsx)(n.h3,{id:"problem-modulenotfounderror-no-module-named-mujoco",children:"Problem: \"ModuleNotFoundError: No module named 'mujoco'\""}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Solution"}),": You probably forgot to activate your virtual environment or didn't install mujoco."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Activate environment first\r\nsource .venv/bin/activate  # or .\\.venv\\Scripts\\activate on Windows\r\n\r\n# Then reinstall\r\npip install mujoco\n"})}),"\n",(0,o.jsx)(n.h3,{id:"problem-error-loading-model-file-not-found",children:'Problem: "Error loading model: File not found"'}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Solution"}),": The XML file must be in the same directory as your Python script, or you need to provide the correct path."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Check your current directory\r\npwd  # or 'cd' on Windows\r\n\r\n# List files to confirm xml is there\r\nls   # or 'dir' on Windows\n"})}),"\n",(0,o.jsx)(n.h3,{id:"problem-viewer-window-doesnt-open-linux",children:"Problem: Viewer window doesn't open (Linux)"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Solution"}),": You may need to install OpenGL libraries:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo apt-get install libgl1-mesa-glx libglfw3\n"})}),"\n",(0,o.jsx)(n.h3,{id:"problem-robot-falls-through-the-floor",children:"Problem: Robot falls through the floor"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Solution"}),": This usually means the initial position is set wrong. In the XML file, make sure the robot starts above the ground plane (check the ",(0,o.jsx)(n.code,{children:"pos"})," attribute on the torso body)."]}),"\n",(0,o.jsx)(n.h3,{id:"problem-viewer-is-too-slow",children:"Problem: Viewer is too slow"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Solution"}),": Reduce the visual quality or close other GPU-intensive applications:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"# Add after creating viewer:\r\nviewer.opt.flags[mujoco.mjtVisFlag.mjVIS_CONTACTFORCE] = False\r\nviewer.opt.flags[mujoco.mjtVisFlag.mjVIS_CONTACTPOINT] = False\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"knowledge-check-",children:"Knowledge Check \u2713"}),"\n",(0,o.jsx)(n.p,{children:"Before moving on, make sure you can answer:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"What are the two main advantages"})," of training robots in simulation?"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"What is the difference"})," between ",(0,o.jsx)(n.code,{children:"MjModel"})," and ",(0,o.jsx)(n.code,{children:"MjData"})," in MuJoCo?"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsxs)(n.strong,{children:["What does ",(0,o.jsx)(n.code,{children:"mj_step()"})," do"]}),"?"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Why do we need the timing control code"})," (sleep)?"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"try-this-explore-the-viewer",children:"Try This: Explore the Viewer"}),"\n",(0,o.jsx)(n.p,{children:"Now that you have the viewer running, try these experiments:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Pause the simulation"})," (press Space). What happens to the robot?"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Reset the simulation"})," (press Backspace). Does the robot return to its starting position?"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Change the camera angle"}),". Try viewing the robot from above, from the side, and up close."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Modify the XML file"}),": Change the torso color from ",(0,o.jsx)(n.code,{children:'rgba="0.2 0.6 0.8 1"'})," to ",(0,o.jsx)(n.code,{children:'rgba="1.0 0.0 0.0 1"'})," (red). Restart the script. What changed?"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"the-sim-to-real-gap-a-warning",children:"The Sim-to-Real Gap: A Warning"}),"\n",(0,o.jsxs)(n.p,{children:["While you're enjoying your simulation, remember this important caveat: ",(0,o.jsx)(n.strong,{children:"simulation is not reality"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"Simulators operate under idealized conditions:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Sensors are noise-free"}),"\n",(0,o.jsx)(n.li,{children:"Motors respond instantly with perfect precision"}),"\n",(0,o.jsx)(n.li,{children:"Every physical parameter is exactly known"}),"\n",(0,o.jsx)(n.li,{children:"The environment is perfectly controlled"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"In the real world, you'll face:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Sensor noise and occasional failures"}),"\n",(0,o.jsx)(n.li,{children:"Motor delays and limited torque"}),"\n",(0,o.jsx)(n.li,{children:"Unknown or changing environmental conditions"}),"\n",(0,o.jsx)(n.li,{children:"Manufacturing tolerances and wear"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["The gap between simulation performance and real-world performance is called the ",(0,o.jsx)(n.strong,{children:"sim-to-real gap"}),". Bridging this gap is one of the major challenges in robotics research, and we'll discuss techniques like ",(0,o.jsx)(n.strong,{children:"domain randomization"})," in Chapter 4."]}),"\n",(0,o.jsx)(n.p,{children:"For now, approach simulation with healthy skepticism. What works perfectly here may need adjustment for a physical robot."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,o.jsx)(n.p,{children:"In this lesson, you:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Set up a Python environment with MuJoCo"}),"\n",(0,o.jsx)(n.li,{children:"Loaded and visualized a simple robot model"}),"\n",(0,o.jsx)(n.li,{children:"Understood the structure of a MuJoCo simulation"}),"\n",(0,o.jsx)(n.li,{children:"Learned to troubleshoot common setup issues"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Your simulation environment is now ready! In the next lesson, you'll write your first policy\u2014code that actually controls the robot."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"whats-next",children:"What's Next?"}),"\n",(0,o.jsx)(n.p,{children:"With your environment working, it's time to make the robot move. In the next lesson, you'll implement the \"action loop\" and see your policy\u2014even a simple random one\u2014bring the robot to life."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsxs)(n.strong,{children:["\u2192 Continue to ",(0,o.jsx)(n.a,{href:"/Humanoid-AI-book/chapter-01-intro/1.4-first-policy",children:"Lesson 1.4: Your First Policy"})]})})]})}function c(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>l});var r=i(6540);const o={},t=r.createContext(o);function s(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);